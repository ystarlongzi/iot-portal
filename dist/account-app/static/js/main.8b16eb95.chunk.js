!function(e,n){"object"===typeof exports&&"object"===typeof module?module.exports=n():"function"===typeof define&&define.amd?define([],n):"object"===typeof exports?exports["iot-suite-account-main"]=n():e["iot-suite-account-main"]=n()}(window,(function(){return(window["webpackJsonp_iot-suite-account"]=window["webpackJsonp_iot-suite-account"]||[]).push([[0],{215:function(e,n,a){e.exports={selectOptionsWrap:"selectOptionsWrap_3jjzp"}},217:function(e,n,a){e.exports={"tree-highlight-value":"tree-highlight-value_1qNBk"}},220:function(e,n,a){"use strict";(function(e){var t=a(110),o=a(32),c=a(175),r=a(221),i=a.n(r);"undefined"!==typeof e&&Object.assign(e,{_JSXStyle:i.a});n.a=function(){var e=[],n=Object(t.d)(),a=n.language;"zh-CN"===a?n.changeLanguage(a):n.changeLanguage("en-US"),o.configMethod.initGlobalConfig({headers:{"Accept-Language":"zh-CN"===a?a:"en-US"},baseURL:"/api",onError:function(n){var a=n.code,t=n.msg,o=n.apiMethodName;if("1010"===a||"111"===a)return localStorage.removeItem("_USERNAME"),localStorage.removeItem("_UID"),localStorage.removeItem("_ROLE_TYPE"),void window.location.replace("/login");e.includes(o)||c.b.error(t)}})}}).call(this,a(111))},236:function(e,n,a){window.__POWERED_BY_QIANKUN__&&(a.p=window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__)},240:function(e,n,a){},241:function(e,n,a){},441:function(e,n,a){"use strict";a.r(n),a.d(n,"setGlobalState",(function(){return Be})),a.d(n,"micState",(function(){return Le})),a.d(n,"mainHistory",(function(){return Me})),a.d(n,"bootstrap",(function(){return Fe})),a.d(n,"mount",(function(){return qe})),a.d(n,"unmount",(function(){return We}));var t=a(27),o=a(88),c=a.n(o),r=a(159),i=a(0),l=(a(236),a(33)),u=a.n(l),d=a(227),s=a(110),m=(a(240),a(232)),N=a(213),b={translation:{table:{column:{account:"Account",nickName:"Name",createTime:"Create Time",roleName:"Role",opt:"Operation"},row:{assetAccess:"Authorize Asset",more:"More",removeAccount:"Delete Account",modifyPwd:"Change Password",modifyRole:"Modify Role",modifyName:"Change User Name"},hint:"",hintUnit:"items selected",batchModifyRole:"Modify multiple roles",batchRemoveAccount:"Delete multiple accounts"},roleSelector:{label:"Select Role",placeholder:"Enter account to search",reset:"reset",all:"All roles"},addUser:{create:"Add User",modal:{title:"Add User"},form:{accountType:"Account Type",email:{label:"Email",placeholder:"Please input email"},username:{label:"Account",validate:{require:"Please input account",emailPattern:"Email address format is incorrect",phonePattern:"Phone number format is incorrect"}},password:{label:"Password",validate:{require:"Please input password",pattern:"Password length is %s and contains at least two character types (supports numbers, uppercase letters, lowercase letters and underscores)"}},newPassword:{label:"New Password"},phone:{label:"Phone number",phonePattern:"Phone number format is incorrect",placeholder:"Please input phone number"},role:{label:"Select Role"},manager:"Admin",normal:"User",nickName:"Name"},"manager-1000":"Admin","normal-1000":"User"},removeAccount:{title:"Delete Account",content:"Are you sure to delete the current account? This action cannot be undone.",multiContent:"Are you sure to delete the selected accounts? This action cannot be undone.",multiTitle:"Delete multiple accounts"},modifyRole:{title:"Modify Role",multiTitle:"Modify multiple roles",label:"Select Role"},editUserName:{title:"Change User Name"},modifyPwd:{title:" Change Password"},assetTree:{title:"Authorize Asset",searchPlaceholder:"Enter the asset name",rootCtrl:"Select All/Cancel"}}},h={translation:{table:{column:{account:"\u8d26\u53f7",nickName:"\u540d\u79f0",createTime:"\u521b\u5efa\u65f6\u95f4",roleName:"\u89d2\u8272",opt:"\u64cd\u4f5c"},row:{assetAccess:"\u8d44\u4ea7\u6388\u6743",more:"\u66f4\u591a",removeAccount:"\u5220\u9664\u8d26\u53f7",modifyPwd:"\u4fee\u6539\u5bc6\u7801",modifyRole:"\u4fee\u6539\u89d2\u8272",modifyName:"\u4fee\u6539\u540d\u79f0"},hint:"\u5df2\u9009\u62e9",hintUnit:"\u9879",batchModifyRole:"\u6279\u91cf\u4fee\u6539\u89d2\u8272",batchRemoveAccount:"\u6279\u91cf\u5220\u9664\u8d26\u53f7"},roleSelector:{label:"\u9009\u62e9\u89d2\u8272",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u8d26\u53f7",reset:"\u91cd\u7f6e\u6761\u4ef6",all:"\u5168\u90e8\u89d2\u8272"},addUser:{create:"\u65b0\u5efa\u7528\u6237",modal:{title:"\u65b0\u589e\u7528\u6237"},form:{accountType:"\u8d26\u53f7\u7c7b\u578b",email:{label:"\u90ae\u7bb1",placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1"},username:{label:"\u8d26\u53f7",validate:{require:"\u8bf7\u8f93\u5165\u8d26\u53f7",emailPattern:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1",phonePattern:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u7535\u8bdd\u53f7\u7801"}},password:{label:"\u5bc6\u7801",validate:{require:"\u8bf7\u8f93\u5165\u5bc6\u7801",pattern:"\u5bc6\u7801\u957f\u5ea6%s\u4f4d\uff0c\u81f3\u5c11\u5305\u542b\u4e24\u79cd\u5b57\u7b26\u7c7b\u578b(\u652f\u6301\u6570\u5b57\u3001\u5927\u5199\u5b57\u6bcd\u3001\u5c0f\u5199\u5b57\u6bcd\u548c\u4e0b\u5212\u7ebf)"}},newPassword:{label:"\u65b0\u5bc6\u7801"},phone:{label:"\u7535\u8bdd\u53f7\u7801",placeholder:"\u8bf7\u8f93\u5165\u7535\u8bdd\u53f7",phonePattern:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u7535\u8bdd\u53f7\u7801"},role:{label:"\u9009\u62e9\u89d2\u8272"},manager:"\u7ba1\u7406\u5458",normal:"\u666e\u901a\u7528\u6237",nickName:"\u540d\u79f0"},"manager-1000":"\u7ba1\u7406\u5458","normal-1000":"\u666e\u901a\u7528\u6237"},removeAccount:{title:"\u5220\u9664\u8d26\u53f7",content:"\u786e\u8ba4\u5220\u9664\u5f53\u524d\u8d26\u6237\u5417\uff0c\u5220\u9664\u540e\u4e0d\u53ef\u6062\u590d\uff0c\u8bf7\u8c28\u614e\u64cd\u4f5c",multiContent:"\u786e\u8ba4\u5220\u9664\u9009\u4e2d\u8d26\u6237\u5417\uff0c\u5220\u9664\u540e\u4e0d\u53ef\u6062\u590d\uff0c\u8bf7\u8c28\u614e\u64cd\u4f5c",multiTitle:"\u6279\u91cf\u5220\u9664\u8d26\u53f7"},modifyRole:{title:"\u4fee\u6539\u8d26\u53f7\u89d2\u8272",multiTitle:"\u6279\u91cf\u4fee\u6539\u8d26\u53f7\u89d2\u8272",label:"\u9009\u62e9\u89d2\u8272"},editUserName:{title:"\u4fee\u6539\u8d26\u53f7\u540d\u79f0"},modifyPwd:{title:" \u4fee\u6539\u5bc6\u7801"},assetTree:{title:"\u8d44\u4ea7\u6388\u6743",searchPlaceholder:"\u8bf7\u8f93\u5165\u8d44\u4ea7\u540d\u79f0",rootCtrl:"\u5168\u90e8\u9009\u4e2d/\u53d6\u6d88"}}};m.a.use(N.a).use(s.e).init({resources:{"en-US":b,"zh-CN":h},fallbackLng:"zh-CN",interpolation:{escapeValue:!1}});var C,y=a(19),j=a(223),f=a.n(j),p=a(222),O=a.n(p),v=(a(241),a(14)),g=a(87),x=a(451),S=a(46),w=a(154),k=a(444),A=a(445),U=a(452),P=a(446),R=a(155),_=a(450),I=a(32),E=a(121),T=a(448),B=a(157),L=[{countryCode:"86",cnName:"\u4e2d\u56fd",enName:"China"},{countryCode:"1242",cnName:"\u5df4\u54c8\u9a6c",enName:"Bahamas"},{countryCode:"1246",cnName:"\u5df4\u5df4\u591a\u65af",enName:"Barbados"},{countryCode:"1264",cnName:"\u5b89\u572d\u62c9",enName:"Anguilla"},{countryCode:"1268",cnName:"\u5b89\u63d0\u74dc\u548c\u5df4\u5e03\u8fbe",enName:"Antigua and Barbuda"},{countryCode:"1284",cnName:"\u82f1\u5c5e\u7ef4\u5c14\u4eac\u7fa4\u5c9b",enName:"British Virgin Islands"},{countryCode:"1340",cnName:"\u7f8e\u5c5e\u7ef4\u5c14\u4eac\u7fa4\u5c9b",enName:"U.S. Virgin Islands"},{countryCode:"1345",cnName:"\u5f00\u66fc\u7fa4\u5c9b",enName:"Cayman Islands"},{countryCode:"1441",cnName:"\u767e\u6155\u5927",enName:"Bermuda"},{countryCode:"1473",cnName:"\u683c\u6797\u7eb3\u8fbe",enName:"Grenada"},{countryCode:"1649",cnName:"\u7279\u514b\u65af\u548c\u51ef\u79d1\u65af\u7fa4\u5c9b",enName:"Turks and Caicos Islands"},{countryCode:"1664",cnName:"\u8499\u7279\u585e\u62c9\u7279",enName:"Montserrat"},{countryCode:"1670",cnName:"Northern Mariana Islands",enName:"Northern Mariana Islands"},{countryCode:"1671",cnName:"\u5173\u5c9b",enName:"Guam"},{countryCode:"1684",cnName:"American Samoa",enName:"American Samoa"},{countryCode:"1758",cnName:"\u5723\u5362\u897f\u4e9a",enName:"Saint Lucia"},{countryCode:"1767",cnName:"\u591a\u7c73\u5c3c\u514b",enName:"Dominica"},{countryCode:"1784",cnName:"\u5723\u6587\u68ee\u7279\u548c\u683c\u6797\u7eb3\u4e01\u65af",enName:"Saint Vincent and the Grenadines"},{countryCode:"1868",cnName:"\u7279\u7acb\u5c3c\u8fbe\u548c\u591a\u5df4\u54e5",enName:"Trinidad and Tobago"},{countryCode:"1869",cnName:"\u5723\u57fa\u8328\u548c\u5c3c\u7ef4\u65af",enName:"Saint Kitts and Nevis"},{countryCode:"1876",cnName:"\u7259\u4e70\u52a0",enName:"Jamaica"},{countryCode:"20",cnName:"\u57c3\u53ca",enName:"Egypt"},{countryCode:"212",cnName:"\u6469\u6d1b\u54e5",enName:"Morocco"},{countryCode:"213",cnName:"\u963f\u5c14\u53ca\u5229\u4e9a",enName:"Algeria"},{countryCode:"216",cnName:"\u7a81\u5c3c\u65af",enName:"Tunisia"},{countryCode:"218",cnName:"\u5229\u6bd4\u4e9a",enName:"Libya"},{countryCode:"220",cnName:"\u5188\u6bd4\u4e9a",enName:"Gambia"},{countryCode:"221",cnName:"\u585e\u5185\u52a0\u5c14",enName:"Senegal"},{countryCode:"222",cnName:"\u6bdb\u91cc\u5854\u5c3c\u4e9a",enName:"Mauritania"},{countryCode:"223",cnName:"\u9a6c\u91cc",enName:"Mali"},{countryCode:"224",cnName:"\u51e0\u5185\u4e9a",enName:"Guinea"},{countryCode:"225",cnName:"\u79d1\u7279\u8fea\u74e6",enName:"Ivory Coast"},{countryCode:"226",cnName:"\u5e03\u57fa\u7eb3\u6cd5\u7d22",enName:"Burkina Faso"},{countryCode:"227",cnName:"\u5c3c\u65e5\u5c14",enName:"Niger"},{countryCode:"228",cnName:"\u591a\u54e5",enName:"Togo"},{countryCode:"229",cnName:"\u8d1d\u5b81",enName:"Benin"},{countryCode:"230",cnName:"\u6bdb\u91cc\u6c42\u65af",enName:"Mauritius"},{countryCode:"231",cnName:"\u5229\u6bd4\u91cc\u4e9a",enName:"Liberia"},{countryCode:"232",cnName:"\u585e\u62c9\u5229",enName:"Sierra Leone"},{countryCode:"233",cnName:"\u52a0\u7eb3",enName:"Ghana"},{countryCode:"234",cnName:"\u5c3c\u65e5\u5229\u4e9a",enName:"Nigeria"},{countryCode:"235",cnName:"\u4e4d\u5f97",enName:"Chad"},{countryCode:"236",cnName:"\u4e2d\u975e",enName:"Central African Republic"},{countryCode:"237",cnName:"\u5580\u9ea6\u9686",enName:"Cameroon"},{countryCode:"238",cnName:"\u4f5b\u5f97\u89d2",enName:"Cape Verde"},{countryCode:"240",cnName:"\u8d64\u9053\u51e0\u5185\u4e9a",enName:"Equatorial Guinea"},{countryCode:"241",cnName:"\u52a0\u84ec",enName:"Gabon"},{countryCode:"242",cnName:"\u521a\u679c\uff08\u5e03\uff09",enName:"Republic of the Congo"},{countryCode:"243",cnName:"\u521a\u679c\uff08\u91d1\uff09",enName:"Democratic Republic of the Congo"},{countryCode:"244",cnName:"\u5b89\u54e5\u62c9",enName:"Angola"},{countryCode:"248",cnName:"\u585e\u820c\u5c14",enName:"Seychelles"},{countryCode:"249",cnName:"\u82cf\u4e39",enName:"Sudan"},{countryCode:"250",cnName:"\u5362\u65fa\u8fbe",enName:"Rwanda"},{countryCode:"251",cnName:"\u57c3\u585e\u4fc4\u6bd4\u4e9a",enName:"Ethiopia"},{countryCode:"252",cnName:"\u7d22\u9a6c\u91cc",enName:"Somalia"},{countryCode:"253",cnName:"\u5409\u5e03\u63d0",enName:"Djibouti"},{countryCode:"254",cnName:"\u80af\u5c3c\u4e9a",enName:"Kenya"},{countryCode:"255",cnName:"\u5766\u6851\u5c3c\u4e9a",enName:"Tanzania"},{countryCode:"256",cnName:"\u4e4c\u5e72\u8fbe",enName:"Uganda"},{countryCode:"257",cnName:"\u5e03\u9686\u8fea",enName:"Burundi"},{countryCode:"258",cnName:"\u83ab\u6851\u6bd4\u514b",enName:"Mozambique"},{countryCode:"260",cnName:"\u8d5e\u6bd4\u4e9a",enName:"Zambia"},{countryCode:"261",cnName:"\u9a6c\u8fbe\u52a0\u65af\u52a0",enName:"Madagascar"},{countryCode:"262",cnName:"\u7559\u5c3c\u6c6a",enName:"R\xe9union"},{countryCode:"263",cnName:"\u6d25\u5df4\u5e03\u97e6",enName:"Zimbabwe"},{countryCode:"264",cnName:"\u7eb3\u7c73\u5c3c\u4e9a",enName:"Namibia"},{countryCode:"265",cnName:"\u9a6c\u62c9\u7ef4",enName:"Malawi"},{countryCode:"266",cnName:"\u83b1\u7d22\u6258",enName:"Lesotho"},{countryCode:"267",cnName:"\u535a\u8328\u74e6\u7eb3",enName:"Botswana"},{countryCode:"268",cnName:"\u65af\u5a01\u58eb\u5170",enName:"Swaziland"},{countryCode:"269",cnName:"\u9a6c\u7ea6\u7279",enName:"Comoros"},{countryCode:"27",cnName:"\u5357\u975e",enName:"South Africa"},{countryCode:"291",cnName:"\u5384\u7acb\u7279\u91cc\u4e9a",enName:"Eritrea"},{countryCode:"297",cnName:"\u963f\u9c81\u5df4",enName:"Aruba"},{countryCode:"298",cnName:"\u6cd5\u7f57\u7fa4\u5c9b",enName:"Faroe Islands"},{countryCode:"299",cnName:"\u683c\u9675\u5170",enName:"Greenland"},{countryCode:"30",cnName:"\u5e0c\u814a",enName:"Greece"},{countryCode:"31",cnName:"\u8377\u5170",enName:"Netherlands"},{countryCode:"32",cnName:"\u6bd4\u5229\u65f6",enName:"Belgium"},{countryCode:"33",cnName:"\u6cd5\u56fd",enName:"France"},{countryCode:"34",cnName:"\u897f\u73ed\u7259",enName:"Spain"},{countryCode:"350",cnName:"\u76f4\u5e03\u7f57\u9640",enName:"Gibraltar"},{countryCode:"351",cnName:"\u8461\u8404\u7259",enName:"Portugal"},{countryCode:"352",cnName:"\u5362\u68ee\u5821",enName:"Luxembourg"},{countryCode:"353",cnName:"\u7231\u5c14\u5170",enName:"Ireland"},{countryCode:"354",cnName:"\u51b0\u5c9b",enName:"Iceland"},{countryCode:"355",cnName:"\u963f\u5c14\u5df4\u5c3c\u4e9a",enName:"Albania"},{countryCode:"356",cnName:"\u9a6c\u8033\u4ed6",enName:"Malta"},{countryCode:"357",cnName:"\u585e\u6d66\u8def\u65af",enName:"Cyprus"},{countryCode:"358",cnName:"\u82ac\u5170",enName:"Finland"},{countryCode:"359",cnName:"\u4fdd\u52a0\u5229\u4e9a",enName:"Bulgaria"},{countryCode:"36",cnName:"\u5308\u7259\u5229",enName:"Hungary"},{countryCode:"370",cnName:"\u7acb\u9676\u5b9b",enName:"Lithuania"},{countryCode:"371",cnName:"\u62c9\u8131\u7ef4\u4e9a",enName:"Latvia"},{countryCode:"372",cnName:"\u7231\u6c99\u5c3c\u4e9a",enName:"Estonia"},{countryCode:"373",cnName:"\u6469\u5c14\u591a\u74e6",enName:"Moldova"},{countryCode:"374",cnName:"\u4e9a\u7f8e\u5c3c\u4e9a",enName:"Armenia"},{countryCode:"375",cnName:"\u767d\u4fc4\u7f57\u65af",enName:"Belarus"},{countryCode:"376",cnName:"\u5b89\u9053\u5c14",enName:"Andorra"},{countryCode:"377",cnName:"\u6469\u7eb3\u54e5",enName:"Monaco"},{countryCode:"378",cnName:"\u5723\u9a6c\u529b\u8bfa",enName:"San Marino"},{countryCode:"379",cnName:"\u68b5\u8482\u5188",enName:"Vatican"},{countryCode:"380",cnName:"\u4e4c\u514b\u5170",enName:"Ukraine"},{countryCode:"381",cnName:"\u585e\u5c14\u7ef4\u4e9a\u548c\u9ed1\u5c71",enName:"Serbia"},{countryCode:"382",cnName:"Montenegro",enName:"Montenegro"},{countryCode:"385",cnName:"\u514b\u7f57\u5730\u4e9a",enName:"Croatia"},{countryCode:"386",cnName:"\u65af\u6d1b\u6587\u5c3c\u4e9a",enName:"Slovenia"},{countryCode:"387",cnName:"\u6ce2\u9ed1",enName:"Bosnia and Herzegovina"},{countryCode:"389",cnName:"\u524d\u5357\u9a6c\u5176\u987f",enName:"Macedonia"},{countryCode:"39",cnName:"\u610f\u5927\u5229",enName:"Italy"},{countryCode:"40",cnName:"\u7f57\u9a6c\u5c3c\u4e9a",enName:"Romania"},{countryCode:"41",cnName:"\u745e\u58eb",enName:"Switzerland"},{countryCode:"420",cnName:"\u6377\u514b",enName:"Czech Republic"},{countryCode:"421",cnName:"\u65af\u6d1b\u4f10\u514b",enName:"Slovakia"},{countryCode:"423",cnName:"\u5217\u652f\u6566\u58eb\u767b",enName:"Liechtenstein"},{countryCode:"43",cnName:"\u5965\u5730\u5229",enName:"Austria"},{countryCode:"44",cnName:"\u82f1\u56fd",enName:"Jersey"},{countryCode:"45",cnName:"\u4e39\u9ea6",enName:"Denmark"},{countryCode:"46",cnName:"\u745e\u5178",enName:"Sweden"},{countryCode:"47",cnName:"\u65af\u74e6\u5c14\u5df4\u5c9b\u548c\u626c\u9a6c\u5ef6\u5c9b",enName:"Norway"},{countryCode:"48",cnName:"\u6ce2\u5170",enName:"Poland"},{countryCode:"49",cnName:"\u5fb7\u56fd",enName:"Germany"},{countryCode:"501",cnName:"\u4f2f\u5229\u5179",enName:"Belize"},{countryCode:"503",cnName:"\u8428\u5c14\u74e6\u591a",enName:"El Salvador"},{countryCode:"504",cnName:"\u6d2a\u90fd\u62c9\u65af",enName:"Honduras"},{countryCode:"505",cnName:"\u5c3c\u52a0\u62c9\u74dc",enName:"Nicaragua"},{countryCode:"506",cnName:"\u54e5\u65af\u8fbe\u9ece\u52a0",enName:"Costa Rica"},{countryCode:"507",cnName:"\u5df4\u62ff\u9a6c",enName:"Panama"},{countryCode:"508",cnName:"\u5723\u76ae\u57c3\u5c14\u548c\u5bc6\u514b\u9686",enName:"Saint Pierre and Miquelon"},{countryCode:"509",cnName:"\u6d77\u5730",enName:"Haiti"},{countryCode:"590",cnName:"\u74dc\u5fb7\u7f57\u666e",enName:"Guadeloupe"},{countryCode:"592",cnName:"\u572d\u4e9a\u90a3",enName:"Guyana"},{countryCode:"596",cnName:"\u9a6c\u63d0\u5c3c\u514b",enName:"Martinique"},{countryCode:"61",cnName:"\u79d1\u79d1\u65af\uff08\u57fa\u6797\uff09\u7fa4\u5c9b",enName:"Heard Island and McDonald Islands"},{countryCode:"65",cnName:"\u65b0\u52a0\u5761",enName:"Singapore"},{countryCode:"673",cnName:"\u6587\u83b1",enName:"Brunei"},{countryCode:"676",cnName:"\u6c64\u52a0",enName:"Tonga"},{countryCode:"679",cnName:"\u6590\u6d4e",enName:"Fiji"},{countryCode:"680",cnName:"\u5e15\u52b3",enName:"Palau"},{countryCode:"681",cnName:"\u74e6\u5229\u65af\u548c\u5bcc\u56fe\u7eb3",enName:"Wallis and Futuna"},{countryCode:"685",cnName:"\u8428\u6469\u4e9a",enName:"Samoa"},{countryCode:"687",cnName:"\u65b0\u5580\u91cc\u591a\u5c3c\u4e9a",enName:"New Caledonia"},{countryCode:"688",cnName:"\u56fe\u74e6\u5362",enName:"Tuvalu"},{countryCode:"689",cnName:"\u6cd5\u5c5e\u6ce2\u5229\u5c3c\u897f\u4e9a",enName:"French Polynesia"},{countryCode:"691",cnName:"\u5bc6\u514b\u7f57\u5c3c\u897f\u4e9a",enName:"Micronesia"},{countryCode:"692",cnName:"\u9a6c\u7ecd\u5c14\u7fa4\u5c9b",enName:"Marshall Islands"},{countryCode:"7",cnName:"\u4fc4\u7f57\u65af",enName:"Russia"},{countryCode:"850",cnName:"\u671d\u9c9c",enName:"North Korea"},{countryCode:"855",cnName:"\u67ec\u57d4\u5be8",enName:"Cambodia"},{countryCode:"856",cnName:"\u8001\u631d",enName:"Laos"},{countryCode:"880",cnName:"\u5b5f\u52a0\u62c9\u56fd",enName:"Bangladesh"},{countryCode:"90",cnName:"\u571f\u8033\u5176",enName:"Turkey"},{countryCode:"91",cnName:"\u5370\u5ea6",enName:"India"},{countryCode:"92",cnName:"\u5df4\u57fa\u65af\u5766",enName:"Pakistan"},{countryCode:"93",cnName:"\u963f\u5bcc\u6c57",enName:"Afghanistan"},{countryCode:"94",cnName:"\u65af\u91cc\u5170\u5361",enName:"Sri Lanka"},{countryCode:"960",cnName:"\u9a6c\u5c14\u4ee3\u592b",enName:"Maldives"},{countryCode:"961",cnName:"\u9ece\u5df4\u5ae9",enName:"Lebanon"},{countryCode:"962",cnName:"\u7ea6\u65e6",enName:"Jordan"},{countryCode:"963",cnName:"\u53d9\u5229\u4e9a",enName:"Syria"},{countryCode:"964",cnName:"\u4f0a\u62c9\u514b",enName:"Iraq"},{countryCode:"965",cnName:"\u79d1\u5a01\u7279",enName:"Kuwait"},{countryCode:"966",cnName:"\u6c99\u7279\u963f\u62c9\u4f2f",enName:"Saudi Arabia"},{countryCode:"967",cnName:"\u4e5f\u95e8",enName:"Yemen"},{countryCode:"968",cnName:"\u963f\u66fc",enName:"Oman"},{countryCode:"971",cnName:"\u963f\u62c9\u4f2f\u8054\u5408\u914b\u957f\u56fd",enName:"United Arab Emirates"},{countryCode:"972",cnName:"\u4ee5\u8272\u5217",enName:"Israel"},{countryCode:"973",cnName:"\u5df4\u6797",enName:"Bahrain"},{countryCode:"974",cnName:"\u5361\u5854\u5c14",enName:"Qatar"},{countryCode:"975",cnName:"\u4e0d\u4e39",enName:"Bhutan"},{countryCode:"976",cnName:"\u8499\u53e4",enName:"Mongolia"},{countryCode:"977",cnName:"\u5c3c\u6cca\u5c14",enName:"Nepal"},{countryCode:"98",cnName:"\u4f0a\u6717",enName:"Iran"},{countryCode:"992",cnName:"\u5854\u5409\u514b\u65af\u5766",enName:"Tajikistan"},{countryCode:"993",cnName:"\u571f\u5e93\u66fc\u65af\u5766",enName:"Turkmenistan"},{countryCode:"994",cnName:"\u963f\u585e\u62dc\u7586",enName:"Azerbaijan"},{countryCode:"995",cnName:"\u683c\u9c81\u5409\u4e9a",enName:"Georgia"},{countryCode:"996",cnName:"\u5409\u5c14\u5409\u65af\u65af\u5766",enName:"Kyrgyzstan"},{countryCode:"998",cnName:"\u4e4c\u5179\u522b\u514b\u65af\u5766",enName:"Uzbekistan"},{countryCode:"1",cnName:"\u7f8e\u56fd",enName:"United States"},{countryCode:"1787",cnName:"\u6ce2\u591a\u9ece\u5404",enName:"Puerto Rico"},{countryCode:"1809",cnName:"\u591a\u7c73\u5c3c\u52a0",enName:"Dominica"},{countryCode:"1829",cnName:"\u591a\u7c73\u5c3c\u52a0",enName:"Dominica"},{countryCode:"1849",cnName:"\u591a\u7c73\u5c3c\u52a0",enName:"Dominica"},{countryCode:"502",cnName:"\u5371\u5730\u9a6c\u62c9",enName:"Guatemala"},{countryCode:"51",cnName:"\u79d8\u9c81",enName:"Peru"},{countryCode:"52",cnName:"\u58a8\u897f\u54e5",enName:"Mexico"},{countryCode:"54",cnName:"\u963f\u6839\u5ef7",enName:"Argentina"},{countryCode:"55",cnName:"\u5df4\u897f",enName:"Brazil"},{countryCode:"56",cnName:"\u667a\u5229",enName:"Chile"},{countryCode:"57",cnName:"\u54e5\u4f26\u6bd4\u4e9a",enName:"Colombia"},{countryCode:"58",cnName:"\u59d4\u5185\u745e\u62c9",enName:"Venezuela"},{countryCode:"591",cnName:"\u73bb\u5229\u7ef4\u4e9a",enName:"Bolivia"},{countryCode:"593",cnName:"\u5384\u74dc\u591a\u5c14",enName:"Ecuador"},{countryCode:"595",cnName:"\u5df4\u62c9\u572d",enName:"Paraguay"},{countryCode:"597",cnName:"\u82cf\u91cc\u5357",enName:"Suriname"},{countryCode:"598",cnName:"\u4e4c\u62c9\u572d",enName:"Uruguay"},{countryCode:"5999",cnName:"\u5e93\u814a\u7d22",enName:"Curacao"},{countryCode:"60",cnName:"\u9a6c\u6765\u897f\u4e9a",enName:"Malaysia"},{countryCode:"62",cnName:"\u5370\u5ea6\u5c3c\u897f\u4e9a",enName:"Indonesia"},{countryCode:"63",cnName:"\u83f2\u5f8b\u5bbe",enName:"Philippines"},{countryCode:"64",cnName:"\u65b0\u897f\u5170",enName:"New Zealand"},{countryCode:"66",cnName:"\u6cf0\u56fd",enName:"Thailand"},{countryCode:"81",cnName:"\u65e5\u672c",enName:"Japan"},{countryCode:"82",cnName:"\u97e9\u56fd",enName:"South Korea"},{countryCode:"84",cnName:"\u8d8a\u5357",enName:"Vietnam"},{countryCode:"852",cnName:"\u9999\u6e2f",enName:"Hong Kong"},{countryCode:"853",cnName:"\u6fb3\u95e8",enName:"Macao"},{countryCode:"886",cnName:"\u53f0\u6e7e",enName:"Taiwan"},{countryCode:"95",cnName:"\u7f05\u7538",enName:"Myanmar [Burma]"}],M=/^(?![a-z]{6,16}$)(?![A-Z]{6,16}$)(?!\d{6,16}$)(?![_]{6,16}$)[a-zA-Z\d_]{6,16}$/,V=/^[\w.\-]+@(?:[a-z0-9]+(?:-[a-z0-9]+)*\.)+[a-z]{2,3}$/,z=/^1\d{10}$/,F=/^\d{6,16}$/;!function(e){e.EMAIL="email",e.TELE="tele"}(C||(C={}));var G="manager-1000",q="normal-1000",D=a(7),W=function(e){var n=e.onChange,a=Object(_.a)().t,t=Object(i.useState)(""),o=Object(v.a)(t,2),c=o[0],r=o[1],l=Object(i.useState)(""),u=Object(v.a)(l,2),d=u[0],s=u[1],m=Object(i.useState)([]),N=Object(v.a)(m,2),b=N[0],h=N[1];return Object(i.useEffect)((function(){I.apiService.getEntireRoles({}).then((function(e){h(e)}))}),[]),Object(D.jsxs)(x.b,{children:[Object(D.jsxs)("label",{children:[a("roleSelector.label"),": "]}),Object(D.jsxs)(E.a,{style:{width:150},value:c,placeholder:a("roleSelector.all"),onSelect:function(e){r(e),n(e,d)},children:[Object(D.jsx)(E.a.Option,{value:"",children:a("roleSelector.all")},"allRole"),b.map((function(e){return Object(D.jsx)(E.a.Option,{value:e.roleCode,children:e.roleCode===G||e.roleCode===q?a("addUser.".concat(e.roleCode)):e.roleName},e.roleCode)}))]}),Object(D.jsx)(T.a,{value:d,placeholder:a("roleSelector.placeholder"),style:{width:250},onChange:function(e){var a=e.target.value;s(a),n(c,a)},suffix:Object(D.jsx)(B.a,{style:{color:"#d9d9d9"}})}),Object(D.jsx)(S.a,{type:"primary",onClick:function(){r(""),s(""),n("","")},children:a("roleSelector.reset")})]})},K=a(447),H=a(153),J=a(215),$=a.n(J),Q=function(e){var n=e.onChange,a=e.defaultValue,t=void 0===a?"86":a,o=Object(_.a)().i18n.language,c=Object(i.useState)(t),r=Object(v.a)(c,2),l=r[0],u=r[1];return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(E.a,{className:"countryCode",value:l,labelInValue:!1,defaultValue:t,dropdownClassName:$.a.selectOptionsWrap,style:{width:"auto",maxWidth:150},onChange:function(e){u("+".concat(e)),n(e)},children:L.map((function(e){return Object(D.jsxs)(E.a.Option,{value:e.countryCode,children:["zh-CN"===o?e.cnName:e.enName,"(+",e.countryCode,")"]},e.countryCode)}))}),Object(D.jsx)("style",{jsx:!0,global:!0,children:"\n          .ant-form-item-has-error\n            .countryCode.ant-select:not(.ant-select-disabled):not(.ant-select-customize-input)\n            .ant-select-selector {\n            background-color: unset;\n          }\n        "})]})},Y=E.a.Option,Z=function(e){var n=e.roleList,a=e.formValues,o=e.onValueChange,c=e.accountTypeDisabled,r=void 0!==c&&c,l=e.userNameDisabled,u=void 0!==l&&l,d=e.showRoleSelector,s=void 0===d||d,m=Object(_.a)().t,N=Object(i.useState)(a.countryCode),b=Object(v.a)(N,2),h=b[0],C=b[1],y=Object(i.useState)(a.accountType),j=Object(v.a)(y,2),f=j[0],p=j[1],O=Object(i.useState)(a.roleCode),g=Object(v.a)(O,2),x=g[0],S=g[1];Object(i.useEffect)((function(){S(n.length?n[n.length-1].roleCode:"")}),[n]),Object(i.useEffect)((function(){o({countryCode:h,accountType:f,roleCode:x})}),[h,f,x]);var w={defaultValue:null},k="";return u&&(w.defaultValue=a.userName,k=a.userName),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(K.a.Item,{label:m("addUser.form.accountType"),name:"accountType",required:!0,children:Object(D.jsxs)(H.a.Group,{disabled:r,defaultValue:"tele",onChange:function(e){var n=e.target.value;p(n)},children:[Object(D.jsx)(H.a.Button,{value:"tele",children:m("addUser.form.phone.label")}),Object(D.jsx)(H.a.Button,{value:"email",children:m("addUser.form.email.label")})]})}),"tele"===f?Object(D.jsx)(K.a.Item,{initialValue:k,label:m("addUser.form.phone.label"),name:"userName",rules:[{required:!0,message:m("addUser.form.username.validate.require")},{pattern:"86"===h?z:F,message:m("addUser.form.phone.phonePattern")}],children:Object(D.jsx)(T.a,Object(t.a)(Object(t.a)({disabled:u},w),{},{addonBefore:u?null:Object(D.jsx)(Q,{defaultValue:h,onChange:function(e){C(e)}}),placeholder:m("addUser.form.phone.placeholder")}))},"phone"):Object(D.jsx)(K.a.Item,{initialValue:k,label:m("addUser.form.email.label"),name:"userName",rules:[{required:!0,message:m("addUser.form.username.validate.require")},{pattern:V,message:m("addUser.form.username.validate.emailPattern")}],children:Object(D.jsx)(T.a,Object(t.a)(Object(t.a)({},w),{},{disabled:u,placeholder:m("addUser.form.email.placeholder")}))},"email"),Object(D.jsx)(K.a.Item,{className:"addUserItem",label:m("addUser.form.password.label"),name:"password",rules:[{required:!0,message:m("addUser.form.password.validate.require")},{pattern:M,message:""}],extra:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"pwdExtra",children:m("addUser.form.password.validate.pattern").replace("%s","6-16")}),Object(D.jsx)("style",{jsx:!0,children:"\n                .addUserItem .ant-form-item-explain {\n                  display: none;\n                }\n                .pwdExtra {\n                  color: #bfbfbf;\n                }\n                .ant-form-item-has-error .pwdExtra {\n                  margin-bottom: 24px;\n                  color: #ff4d4f;\n                }\n              "})]}),children:Object(D.jsx)(T.a.Password,{placeholder:m("addUser.form.password.label")})}),s?Object(D.jsx)(K.a.Item,{label:m("addUser.form.role.label"),required:!0,children:Object(D.jsx)(E.a,{value:x,onChange:function(e){S(e)},children:n.map((function(e){return Object(D.jsx)(Y,{value:e.roleCode,children:e.roleCode===G||e.roleCode===q?m("addUser.".concat(e.roleCode)):e.roleName},e.roleCode)}))})}):null]})},X=a(449),ee=K.a.useForm,ne={labelCol:{span:6},wrapperCol:{span:16}},ae=function(e){var n=e.modalStatus,a=void 0!==n&&n,o=e.onConfirm,c=void 0===o?function(e){return Promise.resolve(!0)}:o,r=e.onCancel,l=void 0===r?function(){}:r,u=e.title,d=void 0===u?"":u,s=e.children,m=(e.showLoading,e.nameList),N=void 0===m?[]:m,b=ee(),h=Object(v.a)(b,1)[0],C=Object(i.useState)(!1),y=Object(v.a)(C,2),j=y[0],f=y[1];return Object(D.jsx)(X.a,{destroyOnClose:!0,visible:a,title:d,confirmLoading:j,onCancel:l,onOk:function(){N.length?h.validateFields(N).then((function(e){f(!0),c(e).then((function(){f(!1),h.resetFields()}))})).catch((function(e){console.error("Validate Failed:",e)})):h.validateFields().then((function(e){f(!0),c(e).then((function(){f(!1),h.resetFields()}))})).catch((function(e){console.error("Validate Failed:",e)}))},children:Object(D.jsx)(K.a,Object(t.a)(Object(t.a)({form:h,preserve:!1},ne),{},{children:s}))})},te=function(e){var n=e.visible,a=e.userName,t=e.onFinish,o=Object(_.a)().t;return Object(D.jsx)(ae,{nameList:["password"],modalStatus:n,title:o("modifyPwd.title"),onConfirm:function(e){var n=e.password;return I.apiService.editAccountPwd(a,n).then((function(){return t(!0),!0})).catch((function(){return!1}))},onCancel:function(){t(!1)},children:Object(D.jsx)(Z,{accountTypeDisabled:!0,showRoleSelector:!1,userNameDisabled:!0,onValueChange:function(){},formValues:{countryCode:"",accountType:a.includes("@")?"email":"tele",userName:a,roleCode:""},roleList:[]})})},oe=function(e){var n=e.uids,a=e.visible,t=e.defaultRoleCode,o=void 0===t?"":t,c=e.onFinish,r=e.isBatch,l=void 0!==r&&r,u=Object(_.a)().t,d=Object(i.useState)([]),s=Object(v.a)(d,2),m=s[0],N=s[1],b=Object(i.useState)(o),h=Object(v.a)(b,2),C=h[0],y=h[1];return Object(i.useEffect)((function(){a&&I.apiService.getEntireRoles({}).then((function(e){N(e.filter((function(e){return"admin"!==e.roleCode}))),y(o)}))}),[a]),Object(D.jsx)(ae,{modalStatus:a,title:u(l?"modifyRole.multiTitle":"modifyRole.title"),onConfirm:function(e){return l?I.apiService.batchModifyUserRole(n,e.roleCode).then((function(){return c(!0),!0})).catch((function(){return!1})):I.apiService.modifyUserRole(n[0],e.roleCode).then((function(){return c(!0),!0})).catch((function(){return!1}))},onCancel:function(){c(!1)},children:Object(D.jsx)(K.a.Item,{name:"roleCode",label:u("modifyRole.label"),initialValue:C,children:Object(D.jsx)(E.a,{children:m.map((function(e){return Object(D.jsx)(E.a.Option,{value:e.roleCode,children:e.roleCode===G||e.roleCode===q?u("addUser.".concat(e.roleCode)):e.roleName},e.roleCode)}))})},C)})},ce=function(e){var n=e.visible,a=e.onCancel,t=e.onOk,o=e.uids,c=e.isBatch,r=void 0!==c&&c,l=Object(_.a)().t,u=Object(i.useState)(!1),d=Object(v.a)(u,2),s=d[0],m=d[1];return Object(D.jsx)(X.a,{destroyOnClose:!0,visible:n,title:l(r?"removeAccount.multiTitle":"removeAccount.title"),onCancel:a,onOk:function(){return m(!0),r?I.apiService.batchRemoveAccount(o).then((function(){m(!1),t()})).catch((function(){m(!1)})):I.apiService.removeAccount(o[0]).then((function(){m(!1),t()})).catch((function(){m(!1)}))},confirmLoading:s,children:Object(D.jsx)("span",{children:l(r?"removeAccount.multiContent":"removeAccount.content")})})},re=a(59),ie=a.n(re),le=a(453),ue=K.a.useForm,de={labelCol:{span:6},wrapperCol:{span:16}},se=function(e){var n=e.onFinish,a=Object(_.a)().t,o=ue(),c=Object(v.a)(o,1)[0],r=Object(i.useState)({accountType:"tele",roleCode:"",countryCode:"86"}),l=Object(v.a)(r,2),u=l[0],d=l[1],s=Object(i.useState)(!1),m=Object(v.a)(s,2),N=m[0],b=m[1],h=Object(i.useState)(!1),C=Object(v.a)(h,2),y=C[0],j=C[1],f=Object(i.useState)([{roleCode:"manager",roleName:a("addUser.form.manager")},{roleCode:"normal",roleName:a("addUser.form.normal")}]),p=Object(v.a)(f,2),O=p[0],g=p[1],x=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];j(e),d({accountType:"tele",roleCode:"",countryCode:"86"})};return Object(i.useEffect)((function(){I.apiService.getEntireRoles({}).then((function(e){g(e.filter((function(e){return"admin"!==e.roleCode})))}))}),[]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(S.a,{onClick:function(){x(!0)},type:"primary",icon:Object(D.jsx)(le.a,{}),children:a("addUser.create")}),Object(D.jsx)(X.a,{destroyOnClose:!0,visible:y,title:a("addUser.modal.title"),confirmLoading:N,onOk:function(){return c.validateFields().then((function(e){b(!0);var a=u.accountType,t=u.countryCode,o=u.roleCode,r={password:e.password,roleCodes:[o],userName:e.userName};return"tele"===a&&(r.countryCode=t),I.apiService.addAccount(r).then((function(){return b(!1),c.resetFields(),x(),n(!0),!0})).catch((function(){return b(!1),!1}))})).catch((function(e){return console.error("Validate Failed:",e),b(!1),!0}))},onCancel:function(){x()},children:y?Object(D.jsx)(K.a,Object(t.a)(Object(t.a)({form:c,preserve:!1},de),{},{validateTrigger:["onBlur"],children:Object(D.jsx)(Z,{formValues:u,roleList:O,onValueChange:function(e){d(e)}})})):null})]})},me=a(42),Ne=a(158),be=a(218),he=a(73),Ce=a(219),ye=a.n(Ce),je=a(217),fe=a.n(je),pe=function e(n,a){var o=[],c=[];return n.length?(a.forEach((function(a){var r=Object(t.a)({},a),i=r.title.indexOf(n);if(i>-1){c.push(a.key);var l=r.title.substr(0,i),u=r.title.substr(i+n.length);r.title=Object(D.jsxs)("span",{children:[l,Object(D.jsx)("span",{className:fe.a["tree-highlight-value"],children:n}),u]}),r.children||o.push(r)}var d=c.length;if(r.children){var s=e(n,r.children),m=Object(v.a)(s,2),N=m[0],b=m[1];r.children=N,c.push.apply(c,Object(me.a)(b))}c.length>d?(o.push(r),-1===i&&c.push(r.key)):i>-1&&r.children&&o.push(r)})),[o,c]):[a,c]},Oe=function e(n){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=[];if(a){var o=n[0];t.push.apply(t,[o.key].concat(Object(me.a)(e(o.children?o.children:[]))))}else n.length&&n.forEach((function(n){t.push.apply(t,[n.key].concat(Object(me.a)(e(n.children?n.children:[]))))}));return t},ve=function e(n){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=[];return n.forEach((function(n){var o;a&&n.disabled||t.push(n.key),(null===(o=n.children)||void 0===o?void 0:o.length)&&t.push.apply(t,Object(me.a)(e(n.children)))})),t},ge=function(e,n){return e.filter((function(e){return e!==n}))},xe=function e(n){var a=[];return n.forEach((function(n){var t=n.asset_id;n.is_authorized&&a.push(t),(null===n||void 0===n?void 0:n.subAssets.length)&&a.push.apply(a,Object(me.a)(e(n.subAssets)))})),a},Se=function e(n){var a=[];return n.forEach((function(n){var t={key:n.asset_id,title:n.asset_name,checkable:!0,disabled:!1===n.is_authorized,selectable:!1,isLeaf:!0};(null===n||void 0===n?void 0:n.subAssets.length)&&(t.isLeaf=!1,t.children=e(n.subAssets)),a.push(t)})),a},we=function e(n,a,t){var o=[];if(!Array.isArray(n)||!n.length)return o;for(var c=0;c<n.length;c++){var r=n[c];if(r.key===a){o.push.apply(o,[r.key].concat(Object(me.a)(e(r.children,a,!0))));break}if(t)r.isLeaf?o.push(r.key):o.push.apply(o,Object(me.a)(e(r.children,a,!0)));else{var i=e(r.children,a,!1);i.length?o.push.apply(o,[r.key].concat(Object(me.a)(i))):o.push.apply(o,Object(me.a)(i))}}return[].concat(o)},ke=function e(n,a){for(var t=!0,o=0;o<n.length;o++){if(!t)return t;var c=n[o];if(!a.has(c.key))return t=!1;c.children&&(t=e(c.children,a))}return t},Ae=["loading","title","checkable","defaultSelectedValue","defaultCheckedValue","defaultExpandValue","dataList","onSelect","treeWrapProps","rootKey"],Ue=function(e){var n=e.loading,a=void 0!==n&&n,o=(e.title,e.checkable),c=void 0!==o&&o,r=e.defaultSelectedValue,l=void 0===r?[]:r,u=e.defaultCheckedValue,d=void 0===u?[]:u,s=e.defaultExpandValue,m=void 0===s?[]:s,N=e.dataList,b=void 0===N?[]:N,h=e.onSelect,C=e.treeWrapProps,y=void 0===C?{}:C,j=e.rootKey,f=void 0===j?"":j,p=(Object(Ne.a)(e,Ae),Object(_.a)().t),O=Object(i.useState)(!0),g=Object(v.a)(O,2),x=g[0],S=g[1],w=Object(i.useState)(l),k=Object(v.a)(w,2),A=k[0],U=k[1],P=Object(i.useState)(b),R=Object(v.a)(P,2),I=R[0],E=R[1],L=Object(i.useState)(l),M=Object(v.a)(L,2),V=M[0],z=M[1],F=Object(i.useState)(V.length&&!V.includes(f)?[f]:[]),G=Object(v.a)(F,2),q=G[0],W=G[1],K=Object(i.useState)([]),H=Object(v.a)(K,2),J=H[0],$=H[1];Object(i.useEffect)((function(){var e=ve(b);if($(e),m.length)U(m),z(l),l.length===e.length?(W([]),z([].concat(Object(me.a)(l),[f]))):l.length>0?W([f]):W([]);else if(b.length){var n=Oe(b,!0);U(n)}E(b)}),[b,m]);return Object(D.jsxs)(be.a,{spinning:a,children:[Object(D.jsx)(T.a,{allowClear:!0,style:{marginBottom:15},placeholder:p("assetTree.searchPlaceholder"),onChange:function(e){var n=e.target.value,a=pe(n,b),t=Object(v.a)(a,2),o=t[0],c=t[1];if(n.length)U(c);else if(V.length)U(we(o,V[0],!1));else{var r=Oe(b,!0);U(r)}E(o),S(!0)},suffix:Object(D.jsx)(B.a,{})}),!a&&I.length?Object(D.jsx)("div",Object(t.a)(Object(t.a)({},y),{},{id:"debugTree",children:Object(D.jsx)(ye.a,{checkStrictly:!0,checkable:c,onExpand:function(e){S(!1),U(e)},autoExpandParent:x,expandedKeys:A,checkedKeys:{checked:V,halfChecked:q},defaultCheckedKeys:d,onCheck:function(e,n){var a=e.checked,t=(e.halfChecked,n.checked);if(n.node.key===f)return t?(z(J),h(ge(J,f)),void W([])):(z([]),h([]),void W([]));if(t){var o=Object(me.a)(a);return a.length+1===J.length?(o.push(f),W([])):a.length&&W([f]),z(o),void h(ge(o,f))}var c=ge(a,f);z(c),h(c),c.length?W([f]):W([])},treeData:I})})):Object(D.jsx)(he.a,{})]})},Pe=["userId","visible","onFinish"],Re="root",_e=function(e){var n=e.userId,a=e.visible,o=e.onFinish,c=Object(Ne.a)(e,Pe),r=Object(_.a)().t,l=Object(i.useState)(!1),u=Object(v.a)(l,2),d=u[0],s=u[1],m=Object(i.useState)(!1),N=Object(v.a)(m,2),b=N[0],h=N[1],C=Object(i.useState)([]),y=Object(v.a)(C,2),j=y[0],f=y[1],p=Object(i.useState)([]),O=Object(v.a)(p,2),g=O[0],x=O[1],S=Object(i.useState)([]),w=Object(v.a)(S,2),k=w[0],A=w[1],U=Object(i.useState)([]),P=Object(v.a)(U,2),R=P[0],E=P[1];Object(i.useEffect)((function(){if(a){s(!0);var e=I.apiService.getEntireAssetTree().catch((function(){return[]})),t=I.apiService.getUserAssetPermissionTree(n).catch((function(){return[]}));Promise.all([e,t]).then((function(e){s(!1);var n=Object(v.a)(e,2),a=n[0],t=n[1],o=xe(t),c=Se(a),i=function(e,n){return e.length?[{key:"root",title:n,checkable:!0,disabled:!1,selectable:!1,isLeaf:!1,children:e}]:e}(c,r("assetTree.rootCtrl"));(function(e,n){var a=new Set(n);return ke(e,a)})(c,o)&&o.unshift(Re),f(i),x(o),E(o),A([].concat(Object(me.a)(we(c,c[0].key,!1)),[Re]))})).catch((function(){s(!1)}))}}),[a]);return Object(D.jsx)(X.a,{destroyOnClose:!0,title:r("assetTree.title"),visible:a,onCancel:o,confirmLoading:b,onOk:function(){h(!0),I.apiService.grantUserAssetPermission(n,R).then((function(){h(!1),o()})).catch((function(){h(!1)}))},children:Object(D.jsx)(Ue,Object(t.a)(Object(t.a)({title:r("assetTree.title"),loading:d,dataList:j,defaultSelectedValue:g,defaultExpandValue:k,checkable:!0,treeWrapProps:{style:{maxHeight:"50vh",overflow:"auto"}},rootKey:Re},c),{},{onSelect:function(e){E(e)}}))})},Ie=function(){var e=Object(_.a)().t,n=Object(i.useState)([]),a=Object(v.a)(n,2),o=a[0],c=a[1],r=Object(i.useState)(1),l=Object(v.a)(r,2),u=l[0],d=l[1],s=Object(i.useState)(20),m=Object(v.a)(s,2),N=m[0],b=m[1],h=Object(i.useState)(0),C=Object(v.a)(h,2),y=C[0],j=C[1],f=Object(i.useState)(!1),p=Object(v.a)(f,2),O=p[0],E=p[1],T=Object(i.useState)([]),B=Object(v.a)(T,2),L=B[0],M=B[1],V=Object(i.useState)(""),z=Object(v.a)(V,2),F=z[0],K=z[1],H=Object(i.useState)(""),J=Object(v.a)(H,2),$=J[0],Q=J[1],Y=Object(i.useState)(0),Z=Object(v.a)(Y,2),X=Z[0],ee=Z[1],ne=function(){ee((function(e){return e+1}))};Object(i.useEffect)((function(){E(!0),I.apiService.getAccountList({pageNo:u,pageSize:N,searchKey:$,roleCode:F}).then((function(e){E(!1);var n=e,a=n.total,t=n.data;c(t),j(a)})).catch((function(){E(!1),c([]),j(0)})),M([])}),[X,F,$,u]);var ae=Object(i.useState)({visible:!1,userId:""}),re=Object(v.a)(ae,2),le=re[0],ue=re[1],de=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";ue({visible:e,userId:n})},me=Object(i.useState)({visible:!1,uids:[],defaultRoleCode:"",isBatch:!1}),Ne=Object(v.a)(me,2),be=Ne[0],he=Ne[1],Ce=function(e){var n=e.visible,a=e.uids,t=void 0===a?[]:a,o=e.defaultRoleCode,c=void 0===o?"":o,r=e.isBatch;he({visible:n,uids:t,defaultRoleCode:c,isBatch:void 0!==r&&r})},ye=Object(i.useState)({visible:!1,uids:[],isBatch:!1}),je=Object(v.a)(ye,2),fe=je[0],pe=je[1],Oe=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];pe({visible:e,uids:n,isBatch:a})},ve=Object(i.useState)({visible:!1,userName:""}),ge=Object(v.a)(ve,2),xe=ge[0],Se=ge[1],we=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Se({visible:e,userName:n})},ke=[{title:e("table.column.account"),dataIndex:"userName",width:"20%",className:ie.a.tableCell},{title:e("table.column.roleName"),dataIndex:"roles",className:ie.a.tableCell,render:function(n,a){var t;if(null===a||void 0===a||null===(t=a.roles)||void 0===t?void 0:t.length){var o=a.roles[0],c=o.roleCode,r=o.roleName;return c!==G&&c!==q||(r=e("addUser.".concat(c))),Object(D.jsx)("span",{children:r})}return null}},{title:e("table.column.opt"),dataIndex:"opt",width:"20%",align:"center",render:function(n,a){var t=!1;try{t="admin"===a.roles[0].roleCode}catch(c){console.error(c)}var o=Object(D.jsxs)(g.a,{children:[Object(D.jsx)(g.a.Item,{disabled:t,onClick:function(){we(!0,a.userName)},children:e("table.row.modifyPwd")},"0"),Object(D.jsx)(g.a.Item,{disabled:t,onClick:function(){Ce({isBatch:!1,visible:!0,uids:[a.userId],defaultRoleCode:(null===a||void 0===a?void 0:a.roles[0].roleCode)?a.roles[0].roleCode:""})},children:e("table.row.modifyRole")},"1"),Object(D.jsx)(g.a.Item,{disabled:t,onClick:function(){Oe(!0,[a.userId])},children:e("table.row.removeAccount")},"4")]});return Object(D.jsxs)(x.b,{children:[Object(D.jsx)(S.a,{type:"link",disabled:t,onClick:function(){de(!0,a.userId)},children:e("table.row.assetAccess")}),Object(D.jsx)(w.a,{overlay:o,trigger:["click"],children:Object(D.jsxs)("span",{className:"".concat(t?ie.a.textGray:ie.a.textBlue," ").concat(ie.a.pointer),children:[e("table.row.more")," ",Object(D.jsx)(R.a,{})]})})]})}}];return Object(D.jsxs)("div",{className:ie.a.wrap,children:[Object(D.jsxs)(k.a,{justify:"space-between",className:ie.a.ctrlRowWrap,children:[Object(D.jsx)(A.a,{children:Object(D.jsx)(W,{onChange:function(e,n){K(e),Q(n)}})}),Object(D.jsx)(A.a,{children:Object(D.jsx)(se,{onFinish:function(){ne()}})})]}),Object(D.jsx)(U.a,{className:ie.a.alertWrap,message:Object(D.jsxs)(x.b,{children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("span",{children:e("table.hint")}),Object(D.jsx)("span",{className:"".concat(ie.a.textBlue," ").concat(ie.a.textSpace),children:L.length}),Object(D.jsx)("span",{children:e("table.hintUnit")})]}),Object(D.jsx)(S.a,{disabled:0===L.length,onClick:function(){Ce({visible:!0,uids:L,defaultRoleCode:"",isBatch:!0})},children:e("table.batchModifyRole")}),Object(D.jsx)(S.a,{disabled:0===L.length,onClick:function(){Oe(!0,L,!0)},children:e("table.batchRemoveAccount")})]})}),Object(D.jsx)(P.a,{rowSelection:{selectedRowKeys:L,onChange:function(e,n){var a=n.map((function(e){return e.userId}));M(a)},getCheckboxProps:function(e){try{return{disabled:"admin"===e.roles[0].roleCode}}catch(n){console.error(n)}}},loading:O,columns:ke,rowKey:function(e){return e.userId},dataSource:o,pagination:{current:u,defaultPageSize:N,pageSize:N,total:y,onChange:function(e){d(e),M([])},onShowSizeChange:function(e,n){b(n)}}}),Object(D.jsx)(te,Object(t.a)({onFinish:function(){we(!1)}},xe)),Object(D.jsx)(oe,Object(t.a)({onFinish:function(e){Ce({visible:!1}),e&&ne()}},be)),Object(D.jsx)(ce,Object(t.a)({onCancel:function(){Oe(!1)},onOk:function(){Oe(!1),ne()}},fe)),Object(D.jsx)(_e,Object(t.a)({onFinish:function(){de(!1)}},le))]})},Ee=function(){return Object(D.jsx)(Ie,{})},Te=a(220);var Be,Le,Me,Ve=function(e){Object(Te.a)();var n="zh-CN"===Object(s.d)().language?O.a:f.a;return Object(D.jsx)(y.a,{locale:n,children:Object(D.jsx)(Ee,{})})};function ze(e){var n=e.base,a=e.container;u.a.render(Object(D.jsx)(d.a,{basename:window.__POWERED_BY_QIANKUN__?n:"/",children:Object(D.jsx)(Ve,{})}),a?a.querySelector("#root"):document.querySelector("#root"))}function Fe(){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("\u5b50\u5e94\u7528\u542f\u52a8");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e){return De.apply(this,arguments)}function De(){return(De=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("\u6302\u8f7d\u5b50\u5e94\u7528",n),Object(s.d)().changeLanguage(n.lang),Me=n.mainHistory,ze(n),n.onGlobalStateChange((function(e,n){console.log("\u8d44\u4ea7\u5fae\u5e94\u7528",e,n),Le=e}),!0),Be=function(e){n.setGlobalState(Object(t.a)(Object(t.a)({},Le),e))};case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(r.a)(c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.container,u.a.unmountComponentAtNode(a?a.querySelector("#root"):document.querySelector("#root"));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.__POWERED_BY_QIANKUN__||ze({})},59:function(e,n,a){e.exports={wrap:"wrap_pVKUx",ctrlRowWrap:"ctrlRowWrap_1XsdQ",alertWrap:"alertWrap_2eO0s",background:"background_WyrxH",tableContainerWrap:"tableContainerWrap_-kiJh",tableCtrlWrap:"tableCtrlWrap_3uzSy",ctrlLabel:"ctrlLabel_4_Sl5",textSpace:"textSpace_3JPDu",textBlue:"textBlue_1NgpR",textGray:"textGray_qTeXO",pointer:"pointer_1-fpx",tableCell:"tableCell_2OpUJ"}}},[[441,1,2]]])}));